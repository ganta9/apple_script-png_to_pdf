# PNG to PDF 変換ツール v2.0 - 200MB分割対応版

## バージョン情報
- **バージョン**: v2.0 (200MB分割対応版)
- **リリース日**: 2024年開発
- **ファイルサイズ**: 約35KB（推定）
- **前バージョンからの変更**: 200MB自動分割機能を追加

## 含まれるファイル
- `main.scpt` - 実行可能なコンパイル済みAppleScript（200MB分割対応）
- `main.applescript` - 分割機能付きソースコード

## v2.0の新機能
### 🆕 200MB自動分割機能
- PDFファイルが200MBを超える場合、自動的に複数ファイルに分割
- インテリジェント分割アルゴリズム
- 動的バッチサイズ調整（10→5→2→1ファイル）
- 連番ファイル命名（`filename_part1.pdf`, `filename_part2.pdf`）

### 🆕 進捗表示
- 大量ファイル処理時の進捗ダイアログ
- 処理状況のリアルタイム表示

### 🆕 エラーハンドリング強化
- 分割処理のエラー対応
- 一時ファイルの自動清理
- メモリ効率の改善

## v1.0からの継承機能
- PNG画像からPDF変換
- 指定フォルダからの一括処理
- ImageMagick連携
- ユーザーフレンドリーなGUIダイアログ
- PNG削除機能（ゴミ箱移動）

## 設定
- ソースフォルダ: `/Users/gantaku/本/_screenshot/`
- 保存フォルダ: `/Users/gantaku/本/`
- 画像品質: 85%
- ページサイズ: A4
- **🆕 最大ファイルサイズ: 200MB** (設定変更可能)

## 技術仕様
### 新しい関数
1. `splitConvertProcess()` - メイン分割処理ロジック
2. `getFileSizeMB()` - ファイルサイズ計算（MB単位）
3. `createSmallerBatches()` - 再帰的分割処理

### 分割アルゴリズム
- 初期バッチ: 10ファイル単位
- サイズ超過時: バッチサイズを段階的に縮小
- 最小単位: 1ファイル
- 再帰的処理: 必要に応じて無制限分割

## 使用方法
```bash
# AppleScriptの実行
osascript main.scpt
```

## 利点
- 📧 メール添付制限に対応
- ☁️ クラウドストレージ効率化
- 💾 メモリ使用量最適化
- 🚀 処理安定性向上

## v1.0との互換性
- 入力形式: 完全互換
- 設定項目: 完全互換（新設定追加）
- 動作環境: 完全互換
- 小規模処理: v1.0と同等の動作